"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[58],{7631:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(6540),r=s(6347),n=s(4625);const i={textbookViewer:"textbookViewer_WFkD",searchContainer:"searchContainer_x07s",searchInput:"searchInput_tHhT",searchResults:"searchResults_liwN",searchResultItem:"searchResultItem_p80e",chapterNavigation:"chapterNavigation_PaXr",footer:"footer_lNH3",navLink:"navLink__5lH",prev:"prev_sriM",next:"next_exwI",disabled:"disabled_VQg5",chapterSelect:"chapterSelect__Ldv",chapterContent:"chapterContent_e_wz",chapterHeader:"chapterHeader_hjfS",chapterMeta:"chapterMeta_fw5w",difficulty:"difficulty_Kstd",level:"level_qxGg",beginner:"beginner_rsMX",intermediate:"intermediate_Fi1j",advanced:"advanced_oepi",chapterBody:"chapterBody_P1cI",chapterFooter:"chapterFooter_GgU7",tags:"tags_Q2Mo",tag:"tag_N6MF",loading:"loading_cYPa",error:"error_Oxrs",noContent:"noContent_tnUf"};const c=new class{constructor(e=process.env.REACT_APP_API_BASE_URL||"/api"){this.baseURL=e,this.defaultHeaders={"Content-Type":"application/json"}}getAuthToken(){const e=localStorage.getItem("auth_token");return e?`Bearer ${e}`:null}getAuthHeaders(){const e={...this.defaultHeaders},t=this.getAuthToken();return t&&(e.Authorization=t),e}async request(e,t={}){const s=`${this.baseURL}${e}`,a={headers:{...this.defaultHeaders,...t.headers},...t};if(!a.headers.Authorization){const e=this.getAuthToken();e&&(a.headers.Authorization=e)}try{const e=await fetch(s,a);if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.detail||`HTTP error! status: ${e.status}`)}return 204===e.status?null:await e.json()}catch(r){throw console.error(`API request error for ${s}:`,r),r}}async login(e,t){return this.request("/auth/login",{method:"POST",headers:this.defaultHeaders,body:JSON.stringify({email:e,password:t})})}async register(e,t,s){return this.request("/auth/register",{method:"POST",headers:this.defaultHeaders,body:JSON.stringify({name:e,email:t,password:s})})}async logout(){localStorage.removeItem("auth_token")}async getProfile(){return this.request("/auth/profile",{method:"GET",headers:this.getAuthHeaders()})}async getChapters(){return this.request("/chapters",{method:"GET",headers:this.defaultHeaders})}async getChapter(e){return this.request(`/chapters/${e}`,{method:"GET",headers:this.defaultHeaders})}async getUserProgress(){return this.request("/users/progress",{method:"GET",headers:this.getAuthHeaders()})}async updateChapterProgress(e,t){return this.request(`/users/progress/${e}`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)})}async getUserProficiency(){return this.request("/users/proficiency",{method:"GET",headers:this.getAuthHeaders()})}async updateUserProficiency(e){return this.request("/users/proficiency",{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e)})}async sendMessage(e,t=null){const s={message:e};return t&&(s.session_id=t),this.request("/chatbot/chat",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(s)})}async getChatHistory(e){return this.request(`/chatbot/history/${e}`,{method:"GET",headers:this.getAuthHeaders()})}async translateContent(e,t="ur"){return this.request("/translate",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({content:e,target_language:t})})}async healthCheck(){return this.request("/health",{method:"GET",headers:this.defaultHeaders})}};var h=s(4848);const o=({chapterId:e,slug:t})=>{const[s,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[u,g]=(0,a.useState)(null),[p,m]=(0,a.useState)([]),[v,x]=(0,a.useState)(""),[_,y]=(0,a.useState)([]),[f,N]=(0,a.useState)(!1),j=(0,r.zy)(),$=t||j.pathname.split("/").pop();(0,a.useEffect)(()=>{$&&(async()=>{try{d(!0);const e=await c.getChapter($);o(e),g(null)}catch(e){g("Failed to load chapter content"),console.error("Error loading chapter:",e)}finally{d(!1)}})(),(async()=>{try{const e=await c.getChapters();m(e.chapters||[])}catch(e){console.error("Error loading chapters for navigation:",e)}})()},[$]);const b=p.findIndex(e=>e.slug===$),k=b>0?p[b-1]:null,w=b<p.length-1?p[b+1]:null;return l?(0,h.jsx)("div",{className:i.textbookViewer,children:(0,h.jsx)("div",{className:i.loading,children:"Loading chapter..."})}):u?(0,h.jsx)("div",{className:i.textbookViewer,children:(0,h.jsx)("div",{className:i.error,children:u})}):s?(0,h.jsxs)("div",{className:i.textbookViewer,children:[(0,h.jsxs)("div",{className:i.searchContainer,children:[(0,h.jsx)("input",{type:"text",placeholder:"Search chapters...",value:v,onChange:e=>(e=>{if(x(e),""===e.trim())return y([]),void N(!1);const t=p.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.tags&&t.tags.some(t=>t.toLowerCase().includes(e.toLowerCase())));y(t),N(!0)})(e.target.value),onFocus:()=>N(!0),className:i.searchInput}),f&&_.length>0&&(0,h.jsx)("div",{className:i.searchResults,children:_.map((e,t)=>(0,h.jsx)(n.N_,{to:`/chapter/${e.slug}`,className:i.searchResultItem,onClick:()=>{x(""),N(!1)},children:e.title},t))})]}),(0,h.jsxs)("nav",{className:i.chapterNavigation,children:[k?(0,h.jsxs)(n.N_,{to:`/chapter/${k.slug}`,className:`${i.navLink} ${i.prev}`,children:["\u2190 ",k.title]}):(0,h.jsx)("span",{className:`${i.navLink} ${i.prev} ${i.disabled}`,children:"\u2190 Previous"}),(0,h.jsx)("select",{className:i.chapterSelect,value:$,onChange:e=>window.location.href=`/chapter/${e.target.value}`,children:p.map((e,t)=>(0,h.jsxs)("option",{value:e.slug,children:[t+1,". ",e.title]},e.slug))}),w?(0,h.jsxs)(n.N_,{to:`/chapter/${w.slug}`,className:`${i.navLink} ${i.next}`,children:[w.title," \u2192"]}):(0,h.jsx)("span",{className:`${i.navLink} ${i.next} ${i.disabled}`,children:"Next \u2192"})]}),(0,h.jsxs)("article",{className:i.chapterContent,children:[(0,h.jsxs)("header",{className:i.chapterHeader,children:[(0,h.jsx)("h1",{children:s.title}),(0,h.jsx)("div",{className:i.chapterMeta,children:(0,h.jsxs)("span",{className:i.difficulty,children:["Difficulty: ",(0,h.jsx)("span",{className:`${i.level} ${i[s.difficulty_level]||i.beginner}`,children:s.difficulty_level||"Beginner"})]})})]}),(0,h.jsx)("div",{className:i.chapterBody,dangerouslySetInnerHTML:{__html:s.content}}),s.tags&&s.tags.length>0&&(0,h.jsx)("footer",{className:i.chapterFooter,children:(0,h.jsx)("div",{className:i.tags,children:s.tags.map((e,t)=>(0,h.jsx)("span",{className:i.tag,children:e},t))})})]}),(0,h.jsxs)("nav",{className:`${i.chapterNavigation} ${i.footer}`,children:[k?(0,h.jsxs)(n.N_,{to:`/chapter/${k.slug}`,className:`${i.navLink} ${i.prev}`,children:["\u2190 Previous: ",k.title]}):(0,h.jsx)("span",{className:`${i.navLink} ${i.prev} ${i.disabled}`,children:"\u2190 Previous"}),w?(0,h.jsxs)(n.N_,{to:`/chapter/${w.slug}`,className:`${i.navLink} ${i.next}`,children:["Next: ",w.title," \u2192"]}):(0,h.jsx)("span",{className:`${i.navLink} ${i.next} ${i.disabled}`,children:"Next \u2192"})]})]}):(0,h.jsx)("div",{className:i.textbookViewer,children:(0,h.jsx)("div",{className:i.noContent,children:"Chapter not found"})})}},7771:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});s(6540);var a=s(6347),r=s(7631),n=s(4848);const i=()=>{const{slug:e}=(0,a.g)();return(0,n.jsx)("div",{className:"chapter-page",children:(0,n.jsx)(r.A,{slug:e})})}}}]);